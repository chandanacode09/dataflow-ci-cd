# Terraform Configuration for bbc-news-pipeline-14 Triggers

This directory contains Terraform configuration to create Cloud Build triggers for the bbc-news-pipeline-14 pipeline.

## Prerequisites

1. Install Terraform (>= 1.0)
2. Authenticate to GCP:
   ```bash
   gcloud auth application-default login
   ```

## Creating Triggers

### Initialize Terraform

```bash
cd terraform
terraform init
```

### Review Changes

```bash
terraform plan
```

### Apply Configuration

```bash
terraform apply
```

This will create:
- **CI Trigger**: `bbc-news-pipeline-14-ci` - Runs on all branches
- **CD Trigger**: `bbc-news-pipeline-14-cd` - Deploys on main branch

## Modifying Triggers

1. Edit `main.tf` to modify trigger configuration
2. Run `terraform plan` to review changes
3. Run `terraform apply` to apply changes

## Destroying Triggers

To delete the triggers:

```bash
terraform destroy
```

## State Management

Terraform state is stored in GCS bucket:
- Bucket: `demo-terraform-state`
- Prefix: `dataflow-pipelines/bbc-news-pipeline-14`

## Auto-Generated

This configuration was auto-generated by the CI/CD Agent.
